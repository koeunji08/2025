import streamlit as st
import pandas as pd

# -----------------------------
# ë¹µ ë ˆì‹œí”¼ ë°ì´í„°
# -----------------------------
RECIPES = {
    "ìŠ¤ì½˜": {
        "emoji": "ğŸ«¶",
        "yield_text": "ìŠ¤ì½˜ ì•½ 8ê°œ ë¶„ëŸ‰",
        "base_servings": 8,
        "ingredients": [
            {"ì¬ë£Œ": "ë°•ë ¥ë¶„", "ìˆ˜ëŸ‰": 250, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ë² ì´í‚¹íŒŒìš°ë”", "ìˆ˜ëŸ‰": 10, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ë²„í„°", "ìˆ˜ëŸ‰": 80, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ì„¤íƒ•", "ìˆ˜ëŸ‰": 40, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ìš°ìœ ", "ìˆ˜ëŸ‰": 120, "ë‹¨ìœ„": "g"},
        ],
        "steps": ["ê°€ë£¨ë¥˜ë¥¼ ì²´ì³ì„œ ì„ê¸°.", "ì°¨ê°€ìš´ ë²„í„° ë„£ê³  ì˜ê²Œ ìª¼ê°œê¸°.", "ìš°ìœ  ë„£ê³  ë°˜ì£½ ë­‰ì¹˜ê¸°.", "ëª¨ì–‘ ì¡ì•„ ìë¥´ê¸°.", "180â„ƒì—ì„œ 15~20ë¶„ êµ½ê¸°."],
        "videos": ["https://youtu.be/cEyl4WDfkWs?si=tnB-t7Semhzd1NST"],
    },
    "ë§ˆì¹´ë¡±": {
        "emoji": "ğŸ’—",
        "yield_text": "ë§ˆì¹´ë¡± ì•½ 20ê°œ ë¶„ëŸ‰",
        "base_servings": 20,
        "ingredients": [
            {"ì¬ë£Œ": "ì•„ëª¬ë“œ ê°€ë£¨", "ìˆ˜ëŸ‰": 100, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ìŠˆê°€íŒŒìš°ë”", "ìˆ˜ëŸ‰": 100, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ë‹¬ê±€ í°ì", "ìˆ˜ëŸ‰": 80, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ì„¤íƒ•", "ìˆ˜ëŸ‰": 100, "ë‹¨ìœ„": "g"},
        ],
        "steps": ["ì•„ëª¬ë“œê°€ë£¨ì™€ ìŠˆê°€íŒŒìš°ë” ì²´ì¹˜ê¸°.", "ë‹¬ê±€í°ìì— ì„¤íƒ• ë„£ì–´ ë¨¸ë­ ë§Œë“¤ê¸°.", "ê°€ë£¨ ë„£ê³  ë§ˆì¹´ë¡œë‚˜ì£¼.", "ì§œì£¼ë¨¸ë‹ˆë¡œ íŒ¬ë‹ í›„ ê±´ì¡°.", "150â„ƒì—ì„œ 12~15ë¶„ êµ½ê¸°."],
        "videos": ["https://youtu.be/XzC1aN6jpsI?si=dMtHORuvKmQpHrqt"],
    },
    "ì¿ í‚¤": {
        "emoji": "ğŸª",
        "yield_text": "ì¿ í‚¤ ì•½ 15ê°œ ë¶„ëŸ‰",
        "base_servings": 15,
        "ingredients": [
            {"ì¬ë£Œ": "ë²„í„°", "ìˆ˜ëŸ‰": 100, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ì„¤íƒ•", "ìˆ˜ëŸ‰": 80, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ë‹¬ê±€", "ìˆ˜ëŸ‰": 1, "ë‹¨ìœ„": "ê°œ"},
            {"ì¬ë£Œ": "ë°•ë ¥ë¶„", "ìˆ˜ëŸ‰": 200, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ë² ì´í‚¹íŒŒìš°ë”", "ìˆ˜ëŸ‰": 5, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ì´ˆì½”ì¹©", "ìˆ˜ëŸ‰": 80, "ë‹¨ìœ„": "g"},
        ],
        "steps": ["ë²„í„°ì™€ ì„¤íƒ• í¬ë¦¼í™”.", "ë‹¬ê±€ ë„£ê³  ì„ê¸°.", "ê°€ë£¨ë¥˜ ë„£ê³  ì„ê¸°.", "ì´ˆì½”ì¹© ë„£ì–´ ë°˜ì£½ ì™„ì„±.", "180â„ƒì—ì„œ 12ë¶„ êµ½ê¸°."],
        "videos": ["https://youtu.be/ZbptGNeo-mk?si=EylMm6c7N3SJ_sra"],
    },
    "ì¼€ì´í¬": {
        "emoji": "ğŸ‚",
        "yield_text": "ì¼€ì´í¬ 1í˜¸ ì‚¬ì´ì¦ˆ",
        "base_servings": 6,
        "ingredients": [
            {"ì¬ë£Œ": "ë°•ë ¥ë¶„", "ìˆ˜ëŸ‰": 120, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ë‹¬ê±€", "ìˆ˜ëŸ‰": 3, "ë‹¨ìœ„": "ê°œ"},
            {"ì¬ë£Œ": "ì„¤íƒ•", "ìˆ˜ëŸ‰": 100, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ë²„í„°", "ìˆ˜ëŸ‰": 80, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ìš°ìœ ", "ìˆ˜ëŸ‰": 50, "ë‹¨ìœ„": "g"},
        ],
        "steps": ["ë‹¬ê±€ê³¼ ì„¤íƒ• ì¤‘íƒ•ìœ¼ë¡œ ê±°í’ˆ.", "ê°€ë£¨ ë„£ê³  ì„ê¸°.", "ë…¹ì¸ ë²„í„°ì™€ ìš°ìœ  ë„£ê¸°.", "í‹€ì— ë„£ê³  170â„ƒì—ì„œ 30ë¶„ êµ½ê¸°."],
        "videos": ["https://youtu.be/CkkaCdEV5nY?si=3Mgjovb2MYIhXlWO"],
    },
    "ì´ˆì½”ì†Œë¼ë¹µ": {
        "emoji": "ğŸ¥ğŸ«",
        "yield_text": "ì´ˆì½”ì†Œë¼ë¹µ 6ê°œ ë¶„ëŸ‰",
        "base_servings": 6,
        "ingredients": [
            {"ì¬ë£Œ": "ê°•ë ¥ë¶„", "ìˆ˜ëŸ‰": 250, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ì„¤íƒ•", "ìˆ˜ëŸ‰": 40, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ì†Œê¸ˆ", "ìˆ˜ëŸ‰": 5, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ë“œë¼ì´ì´ìŠ¤íŠ¸", "ìˆ˜ëŸ‰": 5, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ìš°ìœ ", "ìˆ˜ëŸ‰": 150, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ë²„í„°", "ìˆ˜ëŸ‰": 50, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ì´ˆì½”í¬ë¦¼", "ìˆ˜ëŸ‰": 100, "ë‹¨ìœ„": "g"},
        ],
        "steps": ["ë°˜ì£½í•˜ì—¬ 1ì°¨ ë°œíš¨.", "ë¶„í• , ë‘¥ê¸€ë¦¬ê¸° í›„ íœ´ì§€.", "ë°€ëŒ€ë¡œ í´ì„œ ì†Œë¼ ëª¨ì–‘ ì„±í˜•.", "ì´ˆì½”í¬ë¦¼ ì±„ìš°ê¸°.", "180â„ƒì—ì„œ 15ë¶„ êµ½ê¸°."],
        "videos": ["https://youtu.be/FaSJFZsYzEM?si=a3TzEOu2CuQiHbog"],
    },
    "ì†Œê¸ˆë¹µ": {
        "emoji": "ğŸ¥¨",
        "yield_text": "ì†Œê¸ˆë¹µ 6ê°œ ë¶„ëŸ‰",
        "base_servings": 6,
        "ingredients": [
            {"ì¬ë£Œ": "ê°•ë ¥ë¶„", "ìˆ˜ëŸ‰": 250, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ì„¤íƒ•", "ìˆ˜ëŸ‰": 20, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ì†Œê¸ˆ", "ìˆ˜ëŸ‰": 5, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ë“œë¼ì´ì´ìŠ¤íŠ¸", "ìˆ˜ëŸ‰": 5, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ìš°ìœ ", "ìˆ˜ëŸ‰": 150, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ë²„í„°", "ìˆ˜ëŸ‰": 50, "ë‹¨ìœ„": "g"},
        ],
        "steps": ["ë°˜ì£½í•˜ì—¬ 1ì°¨ ë°œíš¨.", "ë¶„í• , ë‘¥ê¸€ë¦¬ê¸° í›„ íœ´ì§€.", "ì‚¼ê°í˜•ìœ¼ë¡œ ë°€ì–´ì„œ ë¡¤ë§ ì„±í˜•.", "ì†Œê¸ˆ ì†”ì†” ë¿Œë¦¬ê¸°.", "180â„ƒì—ì„œ 15ë¶„ êµ½ê¸°."],
        "videos": ["https://youtu.be/OoKzyOJLygo?si=Bzx4o8eiCMrBhzmg"],
    },
    "ì‹ë¹µ": {
        "emoji": "ğŸ",
        "yield_text": "ì‹ë¹µ 1ê°œ ë¶„ëŸ‰",
        "base_servings": 1,
        "ingredients": [
            {"ì¬ë£Œ": "ê°•ë ¥ë¶„", "ìˆ˜ëŸ‰": 300, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ì„¤íƒ•", "ìˆ˜ëŸ‰": 30, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ì†Œê¸ˆ", "ìˆ˜ëŸ‰": 5, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ë“œë¼ì´ì´ìŠ¤íŠ¸", "ìˆ˜ëŸ‰": 6, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ìš°ìœ ", "ìˆ˜ëŸ‰": 180, "ë‹¨ìœ„": "g"},
            {"ì¬ë£Œ": "ë²„í„°", "ìˆ˜ëŸ‰": 30, "ë‹¨ìœ„": "g"},
        ],
        "steps": ["ì¬ë£Œ ì„ì–´ ë°˜ì£½ ë§Œë“¤ê¸°.", "1ì°¨ ë°œíš¨ (ì•½ 1ì‹œê°„).", "ê°€ìŠ¤ ë¹¼ê³  ì„±í˜•.", "ì‹ë¹µí‹€ì— ë„£ì–´ 2ì°¨ ë°œíš¨.", "180â„ƒì—ì„œ 30ë¶„ êµ½ê¸°."],
        "videos": ["https://youtu.be/5dmiKojDJA8?si=6vSxsUWuw9r50nYz"],
    },
}

# -----------------------------
# Streamlit App
# -----------------------------
st.set_page_config(page_title="ë¹µ ë ˆì‹œí”¼ ë„ìš°ë¯¸", layout="wide")

# ê·€ì—¬ìš´ í…Œë§ˆ CSS
st.markdown(
    """
    <style>
    .stApp {
        background-color: #FFF9E6; /* íŒŒìŠ¤í…” ì˜ë¡œìš° */
        color: #5C4033; /* ë¸Œë¼ìš´ ê¸€ì”¨ */
        font-family: "Comic Sans MS", "Arial Rounded MT Bold", cursive;
    }
    .recipe-card {
        background-color: #FFEFD5;
        padding: 15px;
        border-radius: 20px;
        text-align: center;
        box-shadow: 2px 2px 10px #e5c9a8;
        margin: 10px;
    }
    .recipe-card:hover {
        background-color: #FFE2B7;
        transform: scale(1.02);
        transition: 0.2s;
    }
    </style>
    """,
    unsafe_allow_html=True,
)

# ë©”ì¸ íƒ€ì´í‹€
st.title("ğŸ ì•„ê¸°ìê¸°í•œ ë¹µ ë ˆì‹œí”¼ ë„ìš°ë¯¸ ğŸ¥")
st.markdown("**ë”°ëœ»í•œ íŒŒìŠ¤í…” ì˜ë¡œìš° Ã— ë¸Œë¼ìš´ í†¤ìœ¼ë¡œ ì¤€ë¹„í–ˆì–´ìš” âœ¨**")

# ì²« í™”ë©´ ë¹µ ì¹´ë“œ ë³´ì—¬ì£¼ê¸°
st.subheader("ì˜¤ëŠ˜ ì–´ë–¤ ë¹µì„ ë§Œë“¤ì–´ë³¼ê¹Œìš”? ğŸ¥°")
cols = st.columns(4)
for i, (name, data) in enumerate(RECIPES.items()):
    with cols[i % 4]:
        if st.button(f"{data['emoji']} {name}", key=name):
            st.session_state["selected"] = name

# ì„ íƒëœ ë¹µ ë ˆì‹œí”¼ ë³´ì—¬ì£¼ê¸°
if "selected" in st.session_state:
    choice = st.session_state["selected"]
    recipe = RECIPES[choice]

    st.header(f"{recipe['emoji']} {choice} ë ˆì‹œí”¼")
    st.write(recipe["yield_text"])

    # ì¬ë£Œí‘œ
    st.subheader("ğŸ“ ì¬ë£Œ")
    df = pd.DataFrame(recipe["ingredients"])
    st.table(df)

    # ë‹¨ê³„ë³„ ë ˆì‹œí”¼
    st.subheader("ğŸ¥£ ë§Œë“œëŠ” ë²•")
    for i, step in enumerate(recipe["steps"], 1):
        st.checkbox(f"{i}. {step}", key=f"{choice}_{i}")

    # ì˜ìƒ
    st.subheader("ğŸ¥ ì˜ìƒìœ¼ë¡œ ë°°ìš°ê¸°")
    for url in recipe["videos"]:
        st.video(url)
