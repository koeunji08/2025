import streamlit as st
import pandas as pd

# ----------------------------------------
# 앱 테마 설정 (.streamlit/config.toml)
# ----------------------------------------
# 아래 파일을 프로젝트 루트에 만들어주세요:
"""
[theme]
base = "light"
backgroundColor = "#FFF9E6"            # 파스텔 옐로우
secondaryBackgroundColor = "#F5EBDD"   # 부드러운 브라운/베이지
primaryColor = "#D2691E"               # 초코 브라운 버튼 색
textColor = "#4B382A"
font = "serif"
"""

# ----------------------------------------
# 레시피 데이터 (식빵 포함, 영상 링크 미포함)
# ----------------------------------------
RECIPES = {
    "식빵": {
        "yield_text": "식빵 1개 분량",
        "base_servings": 1,
        "ingredients": [
            {"재료": "강력분", "수량": 400, "단위": "g"},
            {"재료": "우유", "수량": 260, "단위": "g"},
            {"재료": "설탕", "수량": 35, "단위": "g"},
            {"재료": "소금", "수량": 7, "단위": "g"},
            {"재료": "드라이이스트", "수량": 6, "단위": "g"},
            {"재료": "버터", "수량": 30, "단위": "g"},
        ],
        "steps": [
            "미지근한 우유에 재료 섞기.",
            "10–15분 반죽 후 1차 발효.",
            "성형 후 2차 발효.",
            "180℃에서 30분 굽기.",
        ],
        "videos": [],  # 영상 링크는 추후에 넣을 수 있어요!
        "time_total_min": 180,
        "level": "초급",
    },
    "스콘": {
        "yield_text": "스콘 약 8개 분량",
        "base_servings": 8,
        "ingredients": [
            {"재료": "박력분", "수량": 250, "단위": "g"},
            {"재료": "베이킹파우더", "수량": 10, "단위": "g"},
            {"재료": "버터", "수량": 80, "단위": "g"},
            {"재료": "설탕", "수량": 40, "단위": "g"},
            {"재료": "우유", "수량": 120, "단위": "g"},
        ],
        "steps": [
            "가루류 체치기.",
            "차가운 버터 넣고 쪼개기.",
            "우유 넣고 반죽.",
            "모양 잡고 자르기.",
            "180℃에서 15–20분 굽기.",
        ],
        "videos": [], 
        "time_total_min": 40,
        "level": "초급",
    },
    "마카롱": {
        "yield_text": "마카롱 약 20개 분량",
        "base_servings": 20,
        "ingredients": [
            {"재료": "아몬드 가루", "수량": 100, "단위": "g"},
            {"재료": "슈가파우더", "수량": 100, "단위": "g"},
            {"재료": "달걀 흰자", "수량": 80, "단위": "g"},
            {"재료": "설탕", "수량": 100, "단위": "g"},
        ],
        "steps": [
            "아몬드 가루 + 슈가파우더 체치기.",
            "달걀 흰자 머랭 만들기.",
            "가루 넣고 마카로나주.",
            "팬닝 후 말리기.",
            "150℃에서 12–15분 굽기.",
        ],
        "videos": [],
        "time_total_min": 120,
        "level": "고급",
    },
    "쿠키": {
        "yield_text": "쿠키 약 15개 분량",
        "base_servings": 15,
        "ingredients": [
            {"재료": "버터", "수량": 100, "단위": "g"},
            {"재료": "설탕", "수량": 80, "단위": "g"},
            {"재료": "달걀", "수량": 1, "단위": "개"},
            {"재료": "박력분", "수량": 200, "단위": "g"},
            {"재료": "베이킹파우더", "수량": 5, "단위": "g"},
            {"재료": "초코칩", "수량": 80, "단위": "g"},
        ],
        "steps": [
            "버터+설탕 크림화.",
            "달걀 넣어 섞기.",
            "가루 넣고 반죽.",
            "초코칩 추가.",
            "180℃에서 12분 굽기.",
        ],
        "videos": [],
        "time_total_min": 30,
        "level": "초급",
    },
    "케이크": {
        "yield_text": "케이크 1호 사이즈",
        "base_servings": 6,
        "ingredients": [
            {"재료": "박력분", "수량": 120, "단위": "g"},
            {"재료": "달걀", "수량": 3, "단위": "개"},
            {"재료": "설탕", "수량": 100, "단위": "g"},
            {"재료": "버터", "수량": 80, "단위": "g"},
            {"재료": "우유", "수량": 50, "단위": "g"},
        ],
        "steps": [
            "달걀+설탕 중탕 거품내기.",
            "가루 넣고 섞기.",
            "버터+우유 넣기.",
            "170℃에서 30분 굽기.",
        ],
        "videos": [],
        "time_total_min": 60,
        "level": "중급",
    },
    "초코소라빵": {
        "yield_text": "초코소라빵 6개 분량",
        "base_servings": 6,
        "ingredients": [
            {"재료": "강력분", "수량": 250, "단위": "g"},
            {"재료": "설탕", "수량": 40, "단위": "g"},
            {"재료": "소금", "수량": 5, "단위": "g"},
            {"재료": "드라이이스트", "수량": 5, "단위": "g"},
            {"재료": "우유", "수량": 150, "단위": "g"},
            {"재료": "버터", "수량": 50, "단위": "g"},
            {"재료": "초코크림", "수량": 100, "단위": "g"},
        ],
        "steps": [
            "반죽, 1차 발효.",
            "분할 및 둥글리기 후 휴지.",
            "소라 모양으로 성형.",
            "초코크림 채우기.",
            "180℃에서 15분 굽기.",
        ],
        "videos": [],
        "time_total_min": 150,
        "level": "중급",
    },
    "소금빵": {
        "yield_text": "소금빵 6개 분량",
        "base_servings": 6,
        "ingredients": [
            {"재료": "강력분", "수량": 250, "단위": "g"},
            {"재료": "설탕", "수량": 20, "단위": "g"},
            {"재료": "소금", "수량": 5, "단위": "g"},
            {"재료": "드라이이스트", "수량": 5, "단위": "g"},
            {"재료": "우유", "수량": 150, "단위": "g"},
            {"재료": "버터", "수량": 50, "단위": "g"},
        ],
        "steps": [
            "반죽, 1차 발효.",
            "둥글려 휴지.",
            "삼각형으로 밀어 롤링 성형.",
            "소금 솔솔 뿌리기.",
            "180℃에서 15분 굽기.",
        ],
        "videos": [],
        "time_total_min": 120,
        "level": "중급",
    },
}

# ----------------------------------------
# Streamlit 앱 부분 (아기자기한 꾸밈 추가)
# ----------------------------------------
st.set_page_config(page_title="아기자기 빵 레시피", layout="wide")
st.markdown("<h1 style='text-align:center; color:#4B382A;'>🥞 달콤 빵 레시피 도우미 🥐</h1>", unsafe_allow_html=True)
st.markdown("<p style='text-align:center; color:#4B382A;'>파스텔 옐로우와 초코 브라운으로 따뜻하게 꾸민, 귀여운 빵 레시피 앱이야!</p>", unsafe_allow_html=True)

col1, col2 = st.columns(2)
with col1:
    st.subheader("메뉴판 (레시피 미리 보기)")
    for name, v in RECIPES.items():
        st.markdown(f"- **{name}** · 소요: {v['time_total_min']}분 · 난이도: {v['level']}")

with col2:
    st.subheader("사용 안내")
    st.markdown("""
    1. 사이드바에서 만들고 싶은 빵을 골라요.  
    2. 재료 · 만드는 방법 · 영상 탭으로 따라해요!  
    3. 준비가 다 되면 장보기 리스트도 자동으로 만들어줘요.  
    *영상 링크는 원할 때마다 넣어드릴게요!*  
    """)
